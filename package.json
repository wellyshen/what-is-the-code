{
  "name": "what-is-the-code",
  "displayName": "What is the Code",
  "description": "Helps developers understand code purpose, ownership, risks, and related PRs",
  "version": "0.5.4",
  "publisher": "what-is-the-code",
  "engines": {
    "vscode": "^1.85.0"
  },
  "categories": [
    "Other"
  ],
  "activationEvents": [],
  "main": "./out/extension.js",
  "contributes": {
    "commands": [
      {
        "command": "whatIsTheCode.analyze",
        "title": "What is the Code: Analyze Selection"
      },
      {
        "command": "whatIsTheCode.analyzeFile",
        "title": "What is the Code: Analyze Current File"
      },
      {
        "command": "whatIsTheCode.clearCache",
        "title": "What is the Code: Clear Analysis Cache"
      },
      {
        "command": "whatIsTheCode.refresh",
        "title": "What is the Code: Refresh Analysis"
      },
      {
        "command": "whatIsTheCode.setClaudeApiKey",
        "title": "What is the Code: Set Claude API Key"
      },
      {
        "command": "whatIsTheCode.setGithubToken",
        "title": "What is the Code: Set GitHub Token"
      }
    ],
    "menus": {
      "editor/context": [
        {
          "command": "whatIsTheCode.analyze",
          "when": "editorHasSelection",
          "group": "navigation"
        },
        {
          "command": "whatIsTheCode.analyzeFile",
          "group": "navigation"
        }
      ]
    },
    "keybindings": [
      {
        "command": "whatIsTheCode.analyze",
        "key": "ctrl+shift+a",
        "mac": "cmd+shift+a",
        "when": "editorHasSelection"
      },
      {
        "command": "whatIsTheCode.analyzeFile",
        "key": "ctrl+shift+alt+a",
        "mac": "cmd+shift+alt+a",
        "when": "editorTextFocus"
      }
    ],
    "configuration": {
      "title": "What is the Code",
      "properties": {
        "whatIsTheCode.githubToken": {
          "type": "string",
          "default": "",
          "description": "GitHub Personal Access Token for fetching PR information"
        },
        "whatIsTheCode.maxCommitHistory": {
          "type": "number",
          "default": 50,
          "description": "Maximum number of commits to analyze for history"
        },
        "whatIsTheCode.maxPRsToShow": {
          "type": "number",
          "default": 10,
          "description": "Maximum number of related PRs to display"
        },
        "whatIsTheCode.claudeApiKey": {
          "type": "string",
          "default": "",
          "description": "Anthropic Claude API key for AI-powered code analysis"
        },
        "whatIsTheCode.claudeModel": {
          "type": "string",
          "default": "claude-sonnet-4-20250514",
          "enum": [
            "claude-sonnet-4-20250514",
            "claude-opus-4-20250514",
            "claude-3-7-sonnet-20250219"
          ],
          "enumDescriptions": [
            "Claude Sonnet 4 (May 2025) - Best balance of speed and capability",
            "Claude Opus 4 (May 2025) - Most capable model",
            "Claude 3.7 Sonnet (Feb 2025) - Enhanced reasoning"
          ],
          "description": "Claude model to use for AI-powered code analysis"
        },
        "whatIsTheCode.cacheTtlMinutes": {
          "type": "number",
          "default": 30,
          "minimum": 1,
          "maximum": 1440,
          "description": "How long to keep cached analysis results (in minutes)"
        }
      }
    }
  },
  "scripts": {
    "vscode:prepublish": "npm run compile",
    "compile": "tsc -p ./",
    "watch": "tsc -watch -p ./",
    "package": "vsce package"
  },
  "devDependencies": {
    "@types/node": "^20.10.0",
    "@types/vscode": "^1.85.0",
    "@vscode/vsce": "^3.7.1",
    "typescript": "^5.3.0"
  },
  "dependencies": {
    "@anthropic-ai/sdk": "^0.71.2"
  }
}
